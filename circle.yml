machine:
  services:
    - docker
dependencies:
  override:
    - git config --global user.email "temp@circleci.test"
    - git config --global user.name "CircleCI"
    - git config --global credential.helper store
    - echo https://$CIRCLE_BRANCH:@github.com > ~/.git-credentials
    - git config --global url.https://github.com/.pushInsteadOf git@github.com:
    - cat .git/config
    
    - echo $FOO > foo.txt
    - git add foo.txt
    - git commit -m data
    - git push origin $CIRCLE_BRANCH
    
    - make deps
test:
  override:
    - make test
